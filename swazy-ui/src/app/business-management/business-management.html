<div class="min-h-screen bg-base-200">
  <div class="navbar bg-base-300 shadow-lg">
    <div class="flex-1">
      <a class="btn btn-ghost text-lg md:text-xl lg:text-2xl font-bold">{{ business()?.name }}</a>
    </div>
    <div class="flex-none gap-2">
      <button class="btn btn-ghost btn-circle btn-sm md:btn-md">
        <div class="indicator">
          <span class="badge badge-xs md:badge-sm indicator-item">{{ bookings().length }}</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 md:h-5 md:w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" />
          </svg>
        </div>
      </button>
      <a href="/" class="btn btn-ghost btn-sm md:btn-md">
        <span class="hidden sm:inline">Vissza</span>
        <span class="sm:hidden">üè†</span>
      </a>
    </div>
  </div>

  <div class="container mx-auto p-3 md:p-6">
    <div class="tabs tabs-boxed bg-base-100 mb-4 md:mb-6 shadow-lg overflow-x-auto flex-nowrap">
      <a
        class="tab tab-sm md:tab-md whitespace-nowrap flex-shrink-0"
        [class.tab-active]="activeTab() === 'info'"
        (click)="setActiveTab('info')">
        <span class="hidden sm:inline">üìã √úzlet adatai</span>
        <span class="sm:hidden">üìã</span>
      </a>
      <a
        class="tab tab-sm md:tab-md whitespace-nowrap flex-shrink-0"
        [class.tab-active]="activeTab() === 'employees'"
        (click)="setActiveTab('employees')">
        <span class="hidden sm:inline">üë• Dolgoz√≥k</span>
        <span class="sm:hidden">üë•</span>
      </a>
      <a
        class="tab tab-sm md:tab-md whitespace-nowrap flex-shrink-0"
        [class.tab-active]="activeTab() === 'services'"
        (click)="setActiveTab('services')">
        <span class="hidden sm:inline">üíº Szolg√°ltat√°sok</span>
        <span class="sm:hidden">üíº</span>
      </a>
      <a
        class="tab tab-sm md:tab-md whitespace-nowrap flex-shrink-0"
        [class.tab-active]="activeTab() === 'bookings'"
        (click)="setActiveTab('bookings')">
        <span class="hidden sm:inline">üìÖ Foglal√°sok</span>
        <span class="sm:hidden">üìÖ</span>
      </a>
      <a
        class="tab tab-sm md:tab-md whitespace-nowrap flex-shrink-0"
        [class.tab-active]="activeTab() === 'schedules'"
        (click)="setActiveTab('schedules')">
        <span class="hidden sm:inline">üïí Munkaid≈ë</span>
        <span class="sm:hidden">üïí</span>
      </a>
    </div>

    @if (activeTab() === 'info') {
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body p-4 md:p-6">
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4">
            <h2 class="card-title text-xl md:text-2xl">√úzlet inform√°ci√≥i</h2>
            @if (!isEditingBusiness()) {
              <button class="btn btn-primary btn-sm md:btn-md w-full sm:w-auto" (click)="startEditingBusiness()">
                Szerkeszt√©s
              </button>
            }
          </div>

          @if (!isEditingBusiness()) {
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
              <div class="form-control">
                <label class="label"><span class="label-text font-bold text-sm md:text-base">N√©v</span></label>
                <div class="p-3 bg-base-200 rounded text-sm md:text-base">{{ business()?.name }}</div>
              </div>
              <div class="form-control">
                <label class="label"><span class="label-text font-bold text-sm md:text-base">T√≠pus</span></label>
                <div class="p-3 bg-base-200 rounded text-sm md:text-base">{{ business()?.businessType }}</div>
              </div>
              <div class="form-control">
                <label class="label"><span class="label-text font-bold text-sm md:text-base">C√≠m</span></label>
                <div class="p-3 bg-base-200 rounded text-sm md:text-base">{{ business()?.address }}</div>
              </div>
              <div class="form-control">
                <label class="label"><span class="label-text font-bold text-sm md:text-base">Telefon</span></label>
                <div class="p-3 bg-base-200 rounded text-sm md:text-base">{{ business()?.phoneNumber }}</div>
              </div>
              <div class="form-control">
                <label class="label"><span class="label-text font-bold text-sm md:text-base">Email</span></label>
                <div class="p-3 bg-base-200 rounded text-sm md:text-base break-all">{{ business()?.email }}</div>
              </div>
              <div class="form-control">
                <label class="label"><span class="label-text font-bold text-sm md:text-base">Weboldal</span></label>
                <div class="p-3 bg-base-200 rounded text-sm md:text-base break-all">{{ business()?.websiteUrl }}</div>
              </div>
            </div>
          } @else {
            <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
              <div class="form-control">
                <label class="block mb-2">
                  <span class="label-text text-sm md:text-base font-medium">N√©v</span>
                </label>
                <input
                  type="text"
                  [(ngModel)]="editBusinessForm()!.name"
                  class="input input-bordered input-sm md:input-md w-full" />
              </div>
              <div class="form-control">
                <label class="block mb-2">
                  <span class="label-text text-sm md:text-base font-medium">T√≠pus</span>
                </label>
                <select
                  [(ngModel)]="editBusinessForm()!.businessType"
                  class="select select-bordered select-sm md:select-md w-full">
                  @for (type of businessTypes; track type) {
                    <option [value]="type">{{ type }}</option>
                  }
                </select>
              </div>
              <div class="form-control">
                <label class="block mb-2">
                  <span class="label-text text-sm md:text-base font-medium">C√≠m</span>
                </label>
                <input
                  type="text"
                  [(ngModel)]="editBusinessForm()!.address"
                  class="input input-bordered input-sm md:input-md w-full" />
              </div>
              <div class="form-control">
                <label class="block mb-2">
                  <span class="label-text text-sm md:text-base font-medium">Telefon</span>
                </label>
                <input
                  type="text"
                  [(ngModel)]="editBusinessForm()!.phoneNumber"
                  class="input input-bordered input-sm md:input-md w-full" />
              </div>
              <div class="form-control">
                <label class="block mb-2">
                  <span class="label-text text-sm md:text-base font-medium">Email</span>
                </label>
                <input
                  type="email"
                  [(ngModel)]="editBusinessForm()!.email"
                  class="input input-bordered input-sm md:input-md w-full" />
              </div>
              <div class="form-control">
                <label class="block mb-2">
                  <span class="label-text text-sm md:text-base font-medium">Weboldal</span>
                </label>
                <input
                  type="url"
                  [(ngModel)]="editBusinessForm()!.websiteUrl"
                  class="input input-bordered input-sm md:input-md w-full" />
              </div>
            </div>
            <div class="card-actions justify-end mt-4 md:mt-6 gap-2">
              <button class="btn btn-ghost btn-sm md:btn-md" (click)="cancelEditingBusiness()">
                M√©gse
              </button>
              <button class="btn btn-primary btn-sm md:btn-md" (click)="saveBusinessInfo()">
                Ment√©s
              </button>
            </div>
          }
        </div>
      </div>
    }

    @if (activeTab() === 'employees') {
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body p-4 md:p-6">
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4">
            <h2 class="card-title text-xl md:text-2xl">Dolgoz√≥k</h2>
            <button class="btn btn-primary btn-sm md:btn-md w-full sm:w-auto" (click)="showAddEmployeeForm()">
              + Dolgoz√≥ hozz√°ad√°sa
            </button>
          </div>

          @if (isAddingEmployee()) {
            <div class="card bg-base-200 shadow-md mb-4">
              <div class="card-body p-4">
                <h3 class="font-bold mb-3 md:mb-4 text-base md:text-lg">√öj dolgoz√≥</h3>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4">
                  <div class="form-control md:col-span-2">
                    <label class="block mb-2">
                      <span class="label-text text-sm md:text-base font-medium">Email (regisztr√°lt felhaszn√°l√≥)</span>
                    </label>
                    <input
                      type="email"
                      [(ngModel)]="newEmployee().email"
                      placeholder="pelda@email.com"
                      class="input input-bordered input-sm md:input-md w-full" />
                  </div>
                  <div class="form-control md:col-span-2">
                    <label class="block mb-2">
                      <span class="label-text text-sm md:text-base font-medium">Szerepk√∂r</span>
                    </label>
                    <select
                      [(ngModel)]="newEmployee().role"
                      class="select select-bordered select-sm md:select-md w-full">
                      <option value="Employee">Dolgoz√≥</option>
                      <option value="Manager">Menedzser</option>
                      <option value="Owner">Tulajdonos</option>
                    </select>
                  </div>
                </div>
                <div class="card-actions justify-end mt-3 md:mt-4 gap-2">
                  <button class="btn btn-ghost btn-sm md:btn-md" (click)="cancelAddEmployee()">M√©gse</button>
                  <button class="btn btn-primary btn-sm md:btn-md" (click)="addEmployee()">Hozz√°ad√°s</button>
                </div>
              </div>
            </div>
          }

          <div class="overflow-x-auto -mx-4 md:mx-0">
            <table class="table table-sm md:table-md">
              <thead>
              <tr>
                <th class="text-xs md:text-sm">N√©v</th>
                <th class="text-xs md:text-sm hidden sm:table-cell">Email</th>
                <th class="text-xs md:text-sm">Szerepk√∂r</th>
                <th class="text-xs md:text-sm">M≈±veletek</th>
              </tr>
              </thead>
              <tbody>
                @for (employee of employees(); track employee.userId) {
                  <tr>
                    <td class="text-xs md:text-sm">
                      <div>{{ employee.firstName }} {{ employee.lastName }}</div>
                      <div class="text-xs text-base-content/60 sm:hidden">{{ employee.email }}</div>
                    </td>
                    <td class="text-xs md:text-sm hidden sm:table-cell">{{ employee.email }}</td>
                    <td>
                      <select
                        [(ngModel)]="employee.role"
                        (change)="updateEmployeeRole(employee.userId, employee.role)"
                        class="select select-bordered select-xs md:select-sm">
                        <option value="Employee">Dolgoz√≥</option>
                        <option value="Manager">Menedzser</option>
                        <option value="Owner">Tulajdonos</option>
                      </select>
                    </td>
                    <td>
                      <button
                        class="btn btn-error btn-xs md:btn-sm"
                        (click)="removeEmployee(employee.userId)">
                        Elt√°vol√≠t√°s
                      </button>
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    }

    @if (activeTab() === 'services') {
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body p-4 md:p-6">
          <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 mb-4">
            <h2 class="card-title text-xl md:text-2xl">Szolg√°ltat√°sok</h2>
            <button class="btn btn-primary btn-sm md:btn-md w-full sm:w-auto" (click)="showAddServiceForm()">
              + Szolg√°ltat√°s hozz√°ad√°sa
            </button>
          </div>

          @if (isAddingService()) {
            <div class="card bg-base-200 shadow-md mb-4">
              <div class="card-body p-4">
                <h3 class="font-bold mb-3 md:mb-4 text-base md:text-lg">√öj szolg√°ltat√°s</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4">
                  <div class="form-control md:col-span-3">
                    <label class="block mb-2">
                      <span class="label-text text-sm md:text-base font-medium">Szolg√°ltat√°s kiv√°laszt√°sa</span>
                    </label>
                    <select
                      [ngModel]="newService().serviceId"
                      (ngModelChange)="onServiceSelect($event)"
                      class="select select-bordered select-sm md:select-md w-full">
                      <option value="">V√°lassz szolg√°ltat√°st...</option>
                      @for (service of availableServices(); track service.id) {
                        <option [value]="service.id">{{ service.value }} ({{ service.tag }})</option>
                      }
                    </select>
                  </div>
                  <div class="form-control">
                    <label class="block mb-2">
                      <span class="label-text text-sm md:text-base font-medium">√År (Ft)</span>
                    </label>
                    <input
                      type="number"
                      [(ngModel)]="newService().price"
                      class="input input-bordered input-sm md:input-md w-full" />
                  </div>
                  <div class="form-control">
                    <label class="block mb-2">
                      <span class="label-text text-sm md:text-base font-medium">Id≈ëtartam (perc)</span>
                    </label>
                    <input
                      type="number"
                      [(ngModel)]="newService().duration"
                      class="input input-bordered input-sm md:input-md w-full" />
                  </div>
                </div>
                <div class="card-actions justify-end mt-3 md:mt-4 gap-2">
                  <button class="btn btn-ghost btn-sm md:btn-md" (click)="cancelAddService()">M√©gse</button>
                  <button class="btn btn-primary btn-sm md:btn-md" (click)="addService()">Hozz√°ad√°s</button>
                </div>
              </div>
            </div>
          }

          <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4">
            @for (service of services(); track service.id) {
              <div class="card bg-base-200 shadow-md">
                <div class="card-body p-4">
                  @if (editingServiceId() !== service.id) {
                    <h3 class="card-title text-base md:text-lg">{{ getServiceName(service.serviceId) }}</h3>
                    <div class="flex justify-between items-center">
                      <div>
                        <p class="text-xl md:text-2xl font-bold text-primary">{{ service.price }} Ft</p>
                        <p class="text-xs md:text-sm text-base-content/60">{{ service.duration }} perc</p>
                      </div>
                      <div class="card-actions flex-col sm:flex-row gap-1 md:gap-2">
                        <button
                          class="btn btn-xs md:btn-sm btn-ghost"
                          (click)="startEditingService(service)">
                          Szerkeszt√©s
                        </button>
                        <button
                          class="btn btn-xs md:btn-sm btn-error"
                          (click)="removeService(service.id)">
                          T√∂rl√©s
                        </button>
                      </div>
                    </div>
                  } @else {
                    <div class="space-y-2">
                      <div class="font-bold mb-3">{{ getServiceName(service.serviceId) }}</div>
                      <div class="grid grid-cols-2 gap-2">
                        <div class="form-control">
                          <label class="block mb-2">
                            <span class="label-text text-sm font-medium">√År (Ft)</span>
                          </label>
                          <input
                            type="number"
                            [(ngModel)]="newService().price"
                            class="input input-bordered input-xs md:input-sm w-full" />
                        </div>
                        <div class="form-control">
                          <label class="block mb-2">
                            <span class="label-text text-sm font-medium">Id≈ëtartam (perc)</span>
                          </label>
                          <input
                            type="number"
                            [(ngModel)]="newService().duration"
                            class="input input-bordered input-xs md:input-sm w-full" />
                        </div>
                      </div>
                      <div class="card-actions justify-end mt-2 gap-1">
                        <button
                          class="btn btn-xs md:btn-sm btn-ghost"
                          (click)="cancelServiceEdit()">
                          M√©gse
                        </button>
                        <button
                          class="btn btn-xs md:btn-sm btn-primary"
                          (click)="saveServiceEdit(service.id)">
                          Ment√©s
                        </button>
                      </div>
                    </div>
                  }
                </div>
              </div>
            }
          </div>
        </div>
      </div>
    }

    @if (activeTab() === 'bookings') {
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body p-4 md:p-6">
          <h2 class="card-title text-xl md:text-2xl mb-4">Foglal√°sok</h2>

          <div class="block md:hidden space-y-3">
            @for (booking of bookings(); track booking.id) {
              <div class="card bg-base-200 shadow-md">
                <div class="card-body p-4">
                  <div class="flex justify-between items-start mb-2">
                    <div>
                      <h3 class="font-bold text-base">{{ booking.firstName }} {{ booking.lastName }}</h3>
                      <p class="text-xs text-base-content/70">{{ booking.email }}</p>
                      <p class="text-xs text-base-content/70">{{ booking.phoneNumber }}</p>
                    </div>
                    <button
                      class="btn btn-error btn-xs"
                      (click)="cancelBooking(booking.id)">
                      Lemond√°s
                    </button>
                  </div>
                  <div class="divider my-2"></div>
                  <div class="space-y-1">
                    <p class="text-sm"><span class="font-semibold">Szolg√°ltat√°s:</span> {{ booking.serviceName }}</p>
                    <p class="text-sm"><span class="font-semibold">Kezd√©s:</span> {{ formatDate(booking.startTime) }}</p>
                    <p class="text-sm"><span class="font-semibold">Befejez√©s:</span> {{ formatDate(booking.endTime) }}</p>
                    @if (booking.notes) {
                      <p class="text-sm"><span class="font-semibold">Megjegyz√©s:</span> {{ booking.notes }}</p>
                    }
                  </div>
                </div>
              </div>
            }
          </div>

          <div class="hidden md:block overflow-x-auto">
            <table class="table">
              <thead>
              <tr>
                <th>√úgyf√©l</th>
                <th>Szolg√°ltat√°s</th>
                <th>Kezd√©s</th>
                <th>Befejez√©s</th>
                <th>Megjegyz√©s</th>
                <th>M≈±veletek</th>
              </tr>
              </thead>
              <tbody>
                @for (booking of bookings(); track booking.id) {
                  <tr>
                    <td>
                      <div>
                        <div class="font-bold">{{ booking.firstName }} {{ booking.lastName }}</div>
                        <div class="text-sm opacity-50">{{ booking.email }}</div>
                        <div class="text-sm opacity-50">{{ booking.phoneNumber }}</div>
                      </div>
                    </td>
                    <td>{{ booking.serviceName }}</td>
                    <td>{{ formatDate(booking.startTime) }}</td>
                    <td>{{ formatDate(booking.endTime) }}</td>
                    <td>
                      @if (booking.notes) {
                        <span class="badge badge-ghost">{{ booking.notes }}</span>
                      } @else {
                        <span class="text-base-content/50">-</span>
                      }
                    </td>
                    <td>
                      <button
                        class="btn btn-error btn-sm"
                        (click)="cancelBooking(booking.id)">
                        Lemond√°s
                      </button>
                    </td>
                  </tr>
                }
              </tbody>
            </table>
          </div>
        </div>
      </div>
    }

    @if (activeTab() === 'schedules') {
      <div class="card bg-base-100 shadow-xl">
        <div class="card-body p-4 md:p-6">
          <h2 class="card-title text-xl md:text-2xl mb-4">Munkaid≈ë beoszt√°s</h2>

          @if (employees().length === 0) {
            <div class="alert alert-info">
              <span>Nincs m√©g dolgoz√≥ hozz√°adva. El≈ësz√∂r adj hozz√° dolgoz√≥kat a "Dolgoz√≥k" f√ºl√∂n.</span>
            </div>
          } @else {
            <!-- Employee Selection - Horizontal Scrollable Cards -->
            <div class="mb-6 w-full">
              <label class="label">
                <span class="label-text font-bold">V√°lassz dolgoz√≥t</span>
              </label>
              <div class="overflow-x-auto">
                <div class="flex gap-4 p-4 bg-base-200 rounded-box min-w-full w-max">
                  @for (employee of getSortedEmployees(); track employee.userId) {
                    <button
                      class="card w-32 h-32 bg-base-100 shadow-xl cursor-pointer hover:shadow-2xl transition-all flex-shrink-0 relative"
                      [class.ring-2]="selectedEmployeeForSchedule()?.userId === employee.userId"
                      [class.ring-primary]="selectedEmployeeForSchedule()?.userId === employee.userId"
                      [class.opacity-60]="isEmployeeOnVacation(employee.userId)"
                      (click)="selectEmployeeForSchedule(employee)">
                      @if (isEmployeeOnVacation(employee.userId)) {
                        <div class="badge badge-warning badge-xs absolute top-2 right-2">üèñÔ∏è</div>
                      }
                      <div class="card-body p-3 items-center justify-center text-center">
                        <div class="flex flex-col items-center gap-1">
                          <p class="font-bold text-sm leading-tight">{{ employee.firstName }}</p>
                          <p class="font-bold text-sm leading-tight">{{ employee.lastName }}</p>
                          @if (hasSchedule(employee.userId)) {
                            <div class="badge badge-success badge-xs mt-1">‚úì</div>
                          }
                        </div>
                      </div>
                    </button>
                  }
                </div>
              </div>
            </div>

            @if (selectedEmployeeForSchedule()) {
              <div class="space-y-6">
                <!-- Vacation Mode Toggle -->
                <div class="alert" [class.alert-warning]="$any(this).isOnVacation" [class.alert-info]="!$any(this).isOnVacation">
                  <div class="flex items-center justify-between w-full">
                    <div class="flex items-center gap-3">
                      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                      </svg>
                      <div>
                        <h3 class="font-bold">Szabads√°g m√≥d</h3>
                        <div class="text-xs">
                          @if ($any(this).isOnVacation) {
                            <span>Ez a dolgoz√≥ jelenleg szabads√°gon van - foglal√°sok letiltva</span>
                          } @else {
                            <span>A dolgoz√≥ el√©rhet≈ë foglal√°sokhoz</span>
                          }
                        </div>
                      </div>
                    </div>
                    <input
                      type="checkbox"
                      class="toggle toggle-warning"
                      [(ngModel)]="$any(this).isOnVacation" />
                  </div>
                </div>

                <!-- Buffer Time Setting -->
                <div class="form-control w-full max-w-xs">
                  <label class="label">
                    <span class="label-text font-bold">Sz√ºnetid≈ë (perc)</span>
                  </label>
                  <input
                    type="number"
                    class="input input-bordered"
                    [(ngModel)]="$any(this).bufferTimeMinutesValue"
                    min="0"
                    max="60"
                    step="5" />
                  <label class="label">
                    <span class="label-text-alt">Az id≈ëpontok k√∂z√∂tti sz√ºnet percekben</span>
                  </label>
                </div>

                <!-- Weekly Schedule Grid -->
                <div class="space-y-4">
                  <h3 class="font-bold text-lg">Heti beoszt√°s</h3>

                  @for (daySchedule of getOrderedDaySchedules(); track daySchedule.dayOfWeek) {
                    <div class="card bg-base-200">
                      <div class="card-body p-4">
                        <div class="flex flex-col md:flex-row items-start md:items-center gap-4">
                          <!-- Day Name and Toggle -->
                          <div class="flex items-center gap-3 w-full md:w-40">
                            <input
                              type="checkbox"
                              class="toggle toggle-primary"
                              [(ngModel)]="daySchedule.isWorkingDay" />
                            <span class="font-bold text-base">
                              {{ dayNames[daySchedule.dayOfWeek] }}
                            </span>
                          </div>

                          <!-- Time Inputs -->
                          @if (daySchedule.isWorkingDay) {
                            <div class="flex flex-col sm:flex-row gap-3 flex-1">
                              <div class="form-control flex-1">
                                <label class="label">
                                  <span class="label-text font-semibold">Kezd√©s</span>
                                </label>
                                <input
                                  type="time"
                                  class="input input-bordered input-sm"
                                  [(ngModel)]="daySchedule.startTime" />
                              </div>
                              <div class="form-control flex-1">
                                <label class="label">
                                  <span class="label-text font-semibold">Befejez√©s</span>
                                </label>
                                <input
                                  type="time"
                                  class="input input-bordered input-sm"
                                  [(ngModel)]="daySchedule.endTime" />
                              </div>
                            </div>
                          } @else {
                            <div class="text-base-content/50 italic">Pihen≈ënap</div>
                          }
                        </div>
                      </div>
                    </div>
                  }
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-3 mt-6">
                  <button
                    class="btn btn-primary flex-1 sm:flex-none"
                    (click)="saveSchedule()">
                    Ment√©s
                  </button>
                  <button
                    class="btn btn-secondary flex-1 sm:flex-none"
                    (click)="copyToAllEmployees()">
                    M√°sol√°s minden dolgoz√≥ra
                  </button>
                </div>
              </div>
            }
          }
        </div>
      </div>
    }
  </div>
</div>
